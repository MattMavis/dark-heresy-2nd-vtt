%row {
    display: grid;
    grid-template-columns: 1.5rem 1fr 5rem 3rem;
    grid-column: 1 / -1;
}

%cell {
    display: flex;
    justify-content: space-around;
    align-items: center;
    text-align: center;

    &:nth-child(2) {
        text-align: left;
    }

    span {
        padding: 1px;
    }

    span:empty {
        display: none;
    }

    select,
    input[type="text"],
    input[type="number"] {
        height: 100%;
    }
}

%cell--head {
    &:first-child {
        text-align: left;
    }

    &:not(:first-child) {        
        text-align: center;
    }
}

%description {
    @extend %cell;
    grid-column: 1 / -1;
}

.dh {
    // CHARACTERISTICS
    button {
        cursor: pointer;
    }

    &-chartable {
        display: grid;
        grid-template-columns: .75fr repeat(10, .5fr);
        grid-template-rows: repeat(7, 1fr);
        grid-auto-flow: column;

        select,
        input[type=number],
        .dh-chartable__cell,
        .dh-chartable__cell--head {
            text-align: center !important;
        }
    }

    // SKILLS
    &-skills {
        h1 {
            grid-column: 1 / -1;
        }
    }

    &-skilltable {
        &__row {
            display: grid;
            grid-template-columns: .9fr .7fr .4fr .4fr;
            grid-column: 1 / -1;

            &--head {
                @extend .dh-skilltable__row;
                .dh-skilltable__cell {
                    text-align: center;

                    &:first-child {
                        text-align: left;
                    }
                }
            }

            &--specialisation {
                @extend .dh-skilltable__row;
                grid-column: 1 / -1;
                padding: 0; 
            }

            &--grouped {
                @extend .dh-skilltable__row;
                grid-template-columns: 1rem 1fr;
                padding: 0; 
            }
        }

        &__cell {
            height: 100%;
            text-align: center;
            overflow: hidden;

            &:first-child {
                font-weight: bolder;
            }

            label,
            span {
                padding: 1px;
            }

            select,
            input[type="number"],
            input[type="text"] {
                height: 100%;
                text-align: center !important;
            }

            &--left {
                @extend .dh-skilltable__cell;
                text-align: left;
            }

            &--last {
                @extend .dh-skilltable__cell;
            }

            &--nosettings {
                @extend .dh-skilltable__cell;
                grid-column: 2;
                text-align: left;
            }

            &--span2 {
                @extend .dh-skilltable__cell;
                grid-column: span 2;
            }

            &--grouped {
                @extend .dh-skilltable__cell;
            }

            &--settingstoggle + #{&}--grouped {
                grid-column-start: 2;
            }
        }

        &__roll {
            text-align: left !important;
            span {
                text-align: left;
            }
        }
    }

    // TRAITS
    &-talenttable,
    &-traittable,
    &-insanitytable,
    &-corruptiontable {

        &__row {
            @extend %row;
            &--head {
                @extend %row;
                div[class*=cell] {
                    @extend %cell--head;
                }
            }
        }

        &__cell {
            @extend %cell;
            &--description {
                @extend %description;
                span {
                    text-align: left;
                }
            }

            &--last {
                @extend %cell;
            }

            &--span2 {
                grid-column: span 2;
            }

            &--span3 {
                grid-column: span 3;
            }
        }
    }

    &-corruptiontable,
    &-insanitytable {
        &__row--head,
        &__row {
            grid-template-columns: 1.5rem 1fr 3rem;
        }
    }

    // Advances

    &-experiencetable{
        &__row {
            @extend %row;
            &--head {
                @extend %row;
                div[class*=cell] {
                    @extend %cell--head;
                }
            }
        }

        &__cell {
            @extend %cell;
            &--description {
                @extend %description;
                span {
                    text-align: left;
                }
            }

            &--last {
                @extend %cell;
            }

            &--ltitle {
                @extend %cell;
                text-align: left;
            }

            &--span2 {
                grid-column: span 2;
            }

            &--span3 {
                grid-column: span 3;
            }
        }
    }    
    
    &-experiencetable {
        &__row {
            &--head {
                div[class*=cell] {
                    &:first-child {
                        grid-column: span 1;
                    }
                }
            }
        }
    }

    &-experiencetable {
        &__row--head,
        &__row {
            grid-template-columns: 1fr .25fr;
        }
    }

    // GEAR

    &-armourtable,
    &-criticaltable,
    &-cybernetictable,
    &-weapontable {
        &__row {
            @extend %row;
            &--head {
                @extend %row;
                div[class*=cell] {
                    @extend %cell--head;
                }
            }
        }

        &__cell {
            @extend %cell;
            &--description {
                @extend %description;
                span {
                    text-align: left;
                }
            }

            &--settingstoggle {
                @extend %cell;
            }

            &--last {
                @extend %cell;
            }

            &--span2 {
                grid-column: span 2;
            }

            &--span3 {
                grid-column: span 3;
            }
        }
    }

    &-armourtable{
        &__row--head,
        &__row {
            grid-template-columns: 1.5rem 1fr .75fr 3rem 1.25fr;
        }
    }

    &-cybernetictable{
        &__row--head,
        &__row {
            grid-template-columns: 1.5rem 1fr 1fr 4rem;
        }
    }

    &-criticaltable{
        &__row--head,
        &__row {
            grid-template-columns: 1.5rem 1fr 1fr 4rem;
        }
    }

    &-weapontable {
        &__row--head,
        &__row {
            grid-template-columns: 1.5rem 1fr .75fr .33fr .5fr .5fr 1.25fr;
        }
    }

    &-advancetable {
        &__row--head,
        &__row {
            @extend %row;
            grid-template-columns: 2fr 1fr;
            gap: $margin-small;
        }

        
    }

    &-armour {
        &__row {
            display: flex;
            justify-content: space-between;
            max-height: 8rem;
        }
        &__block {
            flex-grow: 0;
            flex-basis: 30%;
            text-align: center;

            &--head, 
            &--leftarm,
            &--rightarm,
            &--body,
            &--rightleg,
            &--leftleg,
            &--shield,
            &--toughness {
                @extend .dh-armour__block;
            }

            &--shield, 
            &--toughness {
                margin-top: 1em;
            }
        }
        
        &__display {
            display: inline-block;
            width: 3.5rem;
            height: 3.5rem;
        }
    }
}
